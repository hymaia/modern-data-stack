# generated by terraform from infra/templates/dagster-values.yaml.tpl

dagster:
  postgresql:
    enabled: false
    postgresqlHost: "dagster.cnogqssgrgs3.eu-west-1.rds.amazonaws.com"
    postgresqlUsername: "dagster"
    postgresqlDatabase: "dagster"

  dagster-user-deployments:
    deployments:
      - name: "discover-dagster"
        image:
          repository: "662195598891.dkr.ecr.eu-west-1.amazonaws.com/hymaia/discover-dagster"
          tag: "latest"
          pullPolicy: Always
        dagsterApiGrpcArgs:
          - "-m"
          - "discover_dagster.definitions"
        port: 3030

  ingress:
    enabled: true
    ingressClassName: alb
    annotations:
      alb.ingress.kubernetes.io/scheme: internet-facing
      alb.ingress.kubernetes.io/target-type: ip
      alb.ingress.kubernetes.io/listen-ports: '[{"HTTPS": 443}]'
      alb.ingress.kubernetes.io/certificate-arn: "arn:aws:acm:eu-west-1:662195598891:certificate/ce9e8ffd-1985-499b-999c-341218134e42"
    dagsterWebserver:
      host: dagster.fcussac.app.hymaia.com

global:
  postgresqlSecretName: "dagster-postgresql-secret"
